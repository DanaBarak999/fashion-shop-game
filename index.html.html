<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Smart Fashion Shop ğŸ‘—âœ¨</title>
<style>
  body {
    font-family: "Comic Sans MS", cursive, sans-serif;
    background: linear-gradient(180deg,#fff7fb,#ffeef9);
    margin:0; padding:0;
    display:flex; flex-direction:column; align-items:center;
    color:#60234f;
  }
  header { text-align:center; padding:16px; }
  h1 { margin:0; color:#d63384; font-size:26px; }
  .game {
    background:white; padding:16px; border-radius:16px;
    box-shadow:0 6px 18px rgba(0,0,0,0.1);
    max-width:520px; width:92%; margin:12px auto;
    display:flex; flex-direction:column; gap:14px;
  }
  .stats {display:flex; justify-content:space-between;
    background:#fff5fa; padding:10px; border-radius:12px; font-size:14px;}
  .customer { text-align:center; font-size:20px; }
  .item { font-size:44px; margin:8px 0; }
  .question { background:#fff0f7; border:2px dashed #f8b6d0;
    padding:12px; border-radius:12px; font-weight:bold; text-align:center; }
  .input-area { display:flex; gap:8px; justify-content:center; flex-wrap:wrap; }
  input {
    flex:1; padding:10px; border-radius:10px;
    border:2px solid #fec5e5; font-size:16px; text-align:center;
  }
  button {
    padding:10px 14px; border:none; border-radius:10px; cursor:pointer;
    font-weight:bold; background:#d63384; color:white;
  }
  button:hover { opacity:0.9; }
  .store-btn { background:#ff80c0; }
  .reset-btn { background:#6c63ff; }
  .result { text-align:center; font-weight:bold; min-height:24px; }
  .celebration {
    position:fixed; top:0; left:0; width:100%; height:100%;
    pointer-events:none; overflow:hidden;
  }
  .confetti { position:absolute; font-size:24px;
    animation:fall 3s linear forwards; }
  @keyframes fall { to { transform:translateY(100vh) rotate(360deg); opacity:0; } }

  /* Store */
  .store {
    display:none; position:fixed; top:0; left:0; width:100%; height:100%;
    background:rgba(0,0,0,0.6); justify-content:center; align-items:center;
  }
  .store-content {
    background:white; padding:20px; border-radius:16px;
    max-width:400px; width:90%; text-align:center;
  }
  .items-grid { display:flex; flex-wrap:wrap; gap:10px; justify-content:center; margin-top:10px; }
  .store-item {
    width:80px; height:80px; border:2px dashed #f8b6d0;
    border-radius:12px; display:flex; flex-direction:column;
    align-items:center; justify-content:center; cursor:pointer;
  }
  .collection {
    margin-top:10px; display:flex; flex-wrap:wrap; gap:6px; justify-content:center;
  }

  /* Welcome screen */
  .welcome {
    position:fixed; top:0; left:0; width:100%; height:100%;
    background:linear-gradient(180deg,#ffe0f0,#fffdfd);
    display:flex; flex-direction:column; align-items:center; justify-content:center;
    z-index:1000; text-align:center; padding:20px;
  }
  .welcome h2 { color:#d63384; font-size:24px; margin-bottom:10px; }
  .welcome p { color:#444; margin:6px 0; }
  .welcome button { margin-top:20px; font-size:18px; }
</style>
</head>
<body>

<!-- Welcome Screen -->
<div class="welcome" id="welcome">
  <h2>Welcome to Smart Fashion Shop ğŸ‘—âœ¨</h2>
  <p><strong>Dana Ahmad 6/B</strong></p>
  <p>Al Nahda National Schools</p>
  <button onclick="startGame()">Start Game â–¶ï¸</button>
</div>

<header>
  <h1>ğŸ‘— Smart Fashion Shop</h1>
  <p>Solve math puzzles to sell fashion and earn rewards ğŸ’–</p>
</header>

<div class="game" id="game" style="display:none">
  <div class="stats">
    <div>Level: <span id="level">1</span></div>
    <div>Coins: <span id="coins">0</span> ğŸ’°</div>
    <div>Hearts: <span id="hearts">0</span> ğŸ’–</div>
  </div>

  <div class="customer">
    Customer wants: <div class="item" id="item">ğŸ‘—</div>
  </div>

  <div class="question" id="question">What is 2 + 3?</div>

  <div class="input-area">
    <input id="answer" type="number" placeholder="Enter your answer" />
    <button id="checkBtn">Check âœ…</button>
    <button id="storeBtn" class="store-btn">Store ğŸ›ï¸</button>
    <button id="resetBtn" class="reset-btn">Restart ğŸ”„</button>
  </div>

  <div class="result" id="result"></div>

  <div><strong>Your Collection:</strong></div>
  <div class="collection" id="collection"></div>
</div>

<div class="celebration" id="celebration"></div>

<!-- Store Modal -->
<div class="store" id="store">
  <div class="store-content">
    <h2>Fashion Store ğŸ›ï¸</h2>
    <p>Spend your coins on cute items!</p>
    <div class="items-grid" id="storeItems"></div>
    <button onclick="closeStore()">Close</button>
  </div>
</div>

<!-- Sound Effects -->
<audio id="successSound">
  <source src="https://actions.google.com/sounds/v1/cartoon/clang_and_wobble.ogg" type="audio/ogg">
</audio>
<audio id="failSound">
  <source src="https://actions.google.com/sounds/v1/cartoon/wood_plank_flicks.ogg" type="audio/ogg">
</audio>

<script>
const items=["ğŸ‘—","ğŸ‘œ","ğŸ‘’","ğŸ‘ ","ğŸ’„","ğŸ’","ğŸŒ¸","ğŸ§¥"];
const storeInventory=[
  {emoji:"ğŸ‘‘",price:50},
  {emoji:"ğŸ€",price:40},
  {emoji:"ğŸ¦‹",price:60},
  {emoji:"ğŸŒŸ",price:80}
];
let level=1,coins=0,hearts=0,correctAnswer=0;
const qEl=document.getElementById("question");
const itemEl=document.getElementById("item");
const ansEl=document.getElementById("answer");
const resEl=document.getElementById("result");
const levelEl=document.getElementById("level");
const coinsEl=document.getElementById("coins");
const heartsEl=document.getElementById("hearts");
const successSound=document.getElementById("successSound");
const failSound=document.getElementById("failSound");
const celebration=document.getElementById("celebration");
const store=document.getElementById("store");
const collection=document.getElementById("collection");
const storeItems=document.getElementById("storeItems");
let ownedItems=[];

function rand(a,b){return Math.floor(Math.random()*(b-a+1))+a;}

function newQuestion(){
  ansEl.value="";
  itemEl.textContent=items[rand(0,items.length-1)];
  let a=rand(1,5+level*2),b=rand(1,5+level*2);
  let ops=["+","-","*","/"];
  let op=ops[rand(0,ops.length-1)];
  if(op==="+"){correctAnswer=a+b;}
  if(op==="-"){correctAnswer=a-b;}
  if(op==="*"){correctAnswer=a*b;}
  if(op==="/"){correctAnswer=Math.floor(a/b);}
  if(correctAnswer<0) correctAnswer=Math.abs(correctAnswer);
  qEl.textContent=`What is ${a} ${op} ${b}?`;
}

function playConfetti(){
  for(let i=0;i<15;i++){
    const c=document.createElement("div");
    c.className="confetti";
    c.textContent=["ğŸ’–","ğŸ’…","ğŸ€","âœ¨"][rand(0,3)];
    c.style.left=rand(0,100)+"vw";
    celebration.appendChild(c);
    setTimeout(()=>c.remove(),3000);
  }
}

function checkAnswer(){
  const val=parseInt(ansEl.value);
  if(isNaN(val)){resEl.textContent="âŒ Enter a number!";return;}
  if(val===correctAnswer){
    resEl.style.color="green";
    resEl.textContent="Great! Sold ğŸ‰";
    successSound.play();
    coins+=10*level;
    hearts+=1;
    level+=1;
    playConfetti();
  }else{
    resEl.style.color="crimson";
    resEl.textContent="Wrong! Customer left ğŸ˜¢";
    failSound.play();
  }
  levelEl.textContent=level;
  coinsEl.textContent=coins;
  heartsEl.textContent=hearts;
  setTimeout(()=>{resEl.textContent="";newQuestion();},1000);
}
document.getElementById("checkBtn").addEventListener("click",checkAnswer);

function openStore(){ store.style.display="flex"; renderStore(); }
function closeStore(){ store.style.display="none"; }
document.getElementById("storeBtn").addEventListener("click",openStore);

function renderStore(){
  storeItems.innerHTML="";
  storeInventory.forEach(item=>{
    const div=document.createElement("div");
    div.className="store-item"; 
    div.innerHTML=`<div style="font-size:30px">${item.emoji}</div><div>${item.price}ğŸ’°</div>`;
    div.addEventListener("click",()=>{
      if(coins>=item.price && !ownedItems.includes(item.emoji)){
        coins-=item.price; ownedItems.push(item.emoji);
        coinsEl.textContent=coins; updateCollection();
        alert("You bought "+item.emoji+"!");
        renderStore();
      }else if(ownedItems.includes(item.emoji)){
        alert("You already own this item!");
      }else{ alert("Not enough coins!"); }
    });
    if(ownedItems.includes(item.emoji)){ div.style.border="2px solid gold"; }
    storeItems.appendChild(div);
  });
}

function updateCollection(){
  collection.innerHTML=ownedItems.map(e=>`<span style="font-size:28px">${e}</span>`).join("");
}

function startGame(){
  document.getElementById("welcome").style.display="none";
  document.getElementById("game").style.display="flex";
  resetProgress();
}

function resetProgress(){
  level=1; coins=0; hearts=0; ownedItems=[];
  levelEl.textContent=level;
  coinsEl.textContent=coins;
  heartsEl.textContent=hearts;
  updateCollection();
  newQuestion();
}
document.getElementById("resetBtn").addEventListener("click",resetProgress);
</script>
</body>
</html>